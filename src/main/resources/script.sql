WITH system AS (
--     create system user
    INSERT INTO public.users
        (role_id,
         account_non_locked,
         enabled,
         mfa_enabled,
         sign_in_attempts,
         created_at,
         id,
         last_sign_in,
         email,
         first_name,
         last_name,
         mfa_secret,
         phone,
         reference_id,
         user_id,
         credential_id,
         created_by)
        VALUES
            (2,
             false,
             false,
             false,
             0,
             '1970-01-01 00:00:00.000000 +00:00',
             0,
             '1970-01-01 00:00:00.000000 +00:00',
             'zooshop-noreply@zooshop.ru',
             'ZooShop',
             'System',
             null,
             null,
             '62241f34-d812-4cbf-a21a-b760ed16cbfc',
             '25bbb076-8531-4f22-97fe-3cd6f30205ec',
             1,
             0)
),
-- create system credential
     system_credential AS (
         INSERT INTO public.credentials
             (created_at,
              created_by,
              id,
              password,
              reference_id)
             VALUES ('1970-01-01 00:00:00.000000 +00:00',
                     0,
                     1,
                     'null',
                     'c477ee3a-2697-4abb-9f4a-ac7d6f35c4a5'))
-- create system role
INSERT INTO public.roles
(id,
 created_by,
 created_at,
 name,
 reference_id)
VALUES
    (2,
     0,
     '1970-01-01 00:00:00.000000 +00:00',
     'SYSTEM',
     '07465d42-0e9e-4004-a788-2db574adf7bc');

-- create admin role
INSERT INTO public.roles
(id,
 created_by,
 created_at,
 name,
 reference_id)
VALUES
    (3,
     0,
     '1970-01-01 00:00:00.000000 +00:00',
     'ADMIN',
     '1ac6c338-2184-4acf-9a73-00060b26183f');

-- create admin credential
INSERT INTO public.credentials
(created_at,
 created_by,
 id,
 password,
 reference_id)
VALUES
    ('2024-05-01 00:00:00.000000 +00:00',
     0,
     4,
     '$2a$10$l46.JBSHgLPXxdXvhkEUD.QAp8QPbjHfGQNC8yi5OIW/FuCLQus.C',
     'fcc2f3ff-8520-448c-92ea-ff7d81a8a739');

-- create admin user
INSERT INTO public.users
(role_id,
 account_non_locked,
 enabled,
 mfa_enabled,
 sign_in_attempts,
 created_at,
 id,
 last_sign_in,
 email,
 first_name,
 last_name,
 mfa_secret,
 phone,
 reference_id,
 user_id,
 credential_id,
 created_by)
VALUES
    (3,
     true,
     true,
     false,
     0,
     '1970-01-01 00:00:00.000000 +00:00',
     5,
     '1970-01-01 00:00:00.000000 +00:00',
     'admin@zooshop.ru',
     'ZooShop',
     'Administrator',
     null,
     null,
     'bcea1454-78cb-4764-beec-53d21c9cdac6',
     'b73efc9c-f2fe-4cc1-8b07-43ef0fbb22e2',
     4,
     0);




-- create user role
INSERT INTO public.roles
(id,
 created_by,
 created_at,
 name,
 reference_id)
VALUES
    (6,
     0,
     '1970-01-01 00:00:00.000000 +00:00',
     'USER',
     'dcd56b33-ba58-41f7-b53d-c31b26a9ed4b');


-- create authorities
INSERT INTO public.authorities
(created_at,
 created_by,
 id,
 reference_id,
 resource,
 action)
VALUES
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     7,
     '939db719-9713-4ffa-912f-aea5c1d8bb11',
     'USER',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     8,
     '83c54d47-03a3-4660-8d66-64aa97492561',
     'USER',
     'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     9,
     'cbe76416-9325-460c-a2c4-0a968bca7167',
     'USER',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     10,
     'b5b437c5-2b60-4236-a3c5-23b32385ec86',
     'USER',
     'UPDATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     11,
     '3001b131-3e93-45c5-a2e9-0b60ba79b086',
     'USER',
     'DELETE'),
--     ('1970-01-01 00:00:00.000000 +00:00',
--      0,
--      12,
--      'd6a39163-a542-4351-b1d1-1d82002433d4',
--      'CREDENTIAL',
--      'READ'),
--     ('1970-01-01 00:00:00.000000 +00:00',
--      0,
--      13,
--      '62161c0a-92df-43df-a6c8-6717386c1a03',
--      'CREDENTIAL',
--      'READ_OWN'),
--     ('1970-01-01 00:00:00.000000 +00:00',
--      0,
--      14,
--      'aab1c897-51f1-4c3f-89b0-aa4e00823191',
--      'CREDENTIAL',
--      'UPDATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     12,
     'dc387c21-0e8f-488c-a497-54572525f4ed',
     'ROLE',
     'CREATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     13,
     'a1638f9f-40e7-4136-b18e-7f9b9af166e6',
     'ROLE',
     'READ'),
--     ('1970-01-01 00:00:00.000000 +00:00',
--      0,
--      17,
--      '1a764eb3-4386-47c1-b113-948129fa259d',
--      'ROLE',
--      'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     14,
     '4c8b421a-4227-4e11-a8b9-6c0fb9ce90ea',
     'ROLE',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     15,
     '47e1aacd-da0e-4fbb-8d53-06e936e9ec5c',
     'ROLE',
     'DELETE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     16,
     '15e89c3b-7ee4-4e46-b1ea-9d5871db2cff',
     'AUTHORITY',
     'READ'),
--     ('1970-01-01 00:00:00.000000 +00:00',
--      0,
--      21,
--      '527d65e6-4f56-45a6-bb94-f498d632f4bf',
--      'AUTHORITY',
--      'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     17,
     'dcc58486-666e-4263-b6fa-6ee910ea91cd',
     'ADDRESS',
     'CREATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     18,
     'e30b585a-7f6b-4249-a3f7-fc1f82f10a6b',
     'ADDRESS',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     19,
     '42e43189-bcde-4218-ac90-83bc36a48ac4',
     'ADDRESS',
     'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     20,
     'f8ebf7e2-bb32-4f90-a71e-9df060d94b2a',
     'ADDRESS',
     'UPDATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     21,
     'bb682e32-3206-4532-8d51-e946cdc3ca16',
     'ADDRESS',
     'DELETE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     22,
     'b8ee5c6f-4bfa-4643-b427-3c303528d75c',
     'CATEGORY',
     'CREATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     23,
     'ce6abab4-842a-4ef2-889d-fda7d6c61901',
     'CATEGORY',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     24,
     '86eadf5b-d5f6-4709-af74-8fd00fbf6ead',
     'CATEGORY',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     25,
     'b245ce91-f50f-4ca2-8a84-d0fee9ec8aed',
     'CATEGORY',
     'DELETE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     26,
     '51c5e5bb-6f7a-42c6-94ca-03ee7bbacd81',
     'SUBCATEGORY',
     'CREATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     27,
     '118b3986-6e62-422f-82b4-1b1dbfbd8a91',
     'SUBCATEGORY',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     28,
     '7a2684c0-c7dd-4db2-ab88-39f6502dd090',
     'SUBCATEGORY',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     29,
     '90b3a8e5-d4c5-4afc-a877-2fef03414b6d',
     'SUBCATEGORY',
     'DELETE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     30,
     '7125f1bc-5c09-470d-a08a-75ddc33ef864',
     'PRODUCT',
     'CREATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     31,
     'f8bde5a6-218c-4ba3-b3ab-c87c9919b5b4',
     'PRODUCT',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     32,
     '45383f47-28ed-4b95-b73a-0b523a0e2bb2',
     'PRODUCT',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     33,
     'eae097b2-e5f5-440e-ba68-d5a17644ca47',
     'PRODUCT',
     'DELETE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     34,
     '1f54aa31-9c41-492c-800f-b508078cae90',
     'FAVORITE_PRODUCT',
     'CREATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     35,
     'b381de2b-72e6-47ab-88cd-c2dc79649f32',
     'FAVORITE_PRODUCT',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     36,
     'e96b2057-d17c-4ba1-b782-254d2c937f6b',
     'FAVORITE_PRODUCT',
     'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     37,
     'd7f41c95-d595-499d-8abb-5acb5701504f',
     'FAVORITE_PRODUCT',
     'DELETE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     38,
     '1b75e483-9df8-4698-a767-fb93b9978508',
     'COMMENT',
     'CREATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     39,
     '6fcb9b32-c94c-42cf-99e3-c2474d3e8509',
     'COMMENT',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     40,
     '46bb1aa1-d822-4b20-a6db-221f6cff9f91',
     'COMMENT',
     'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     41,
     '4ee2d6e3-d141-40fc-ae7b-8e89119c2057',
     'COMMENT',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     42,
     '143c4593-a3f6-4304-b1ac-3f2fcb4d2ffe',
     'COMMENT',
     'UPDATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     43,
     '9883d97b-a1c7-48f0-8a62-d823db9be082',
     'COMMENT',
     'DELETE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     44,
     '7cc9ec97-e826-424c-a33d-e5a3f969da75',
     'COMMENT',
     'DELETE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     45,
     'd7d33518-b8a4-4537-9e0e-27e7a547b15a',
     'RATING',
     'CREATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     46,
     '92248e2b-5938-4f3c-9a14-05112f606de1',
     'RATING',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     47,
     'c4847ae7-2d13-4d9a-a5a4-6a4e80ae5118',
     'RATING',
     'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     48,
     '4d969a9a-aa72-49d8-962f-48111797a95d',
     'RATING',
     'UPDATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     49,
     '50643a51-f6bf-4dc3-88a7-415fc7d3b868',
     'RATING',
     'DELETE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     50,
     '61c92ea0-da34-4404-853a-cab9b5fef2ec',
     'PROMO_CODE',
     'CREATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     51,
     '62985f9a-efa6-4b0f-8ef6-bded3b19737f',
     'PROMO_CODE',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     52,
     'cd7f3d8c-eab6-453a-b657-21af1e60c97d',
     'PROMO_CODE',
     'UPDATE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     53,
     '1fb8a14f-1296-4838-9bf7-3439829c6448',
     'PROMO_CODE',
     'DELETE'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     54,
     '2e9e3841-b0f2-425a-9c69-f0493466df07',
     'ORDER',
     'CREATE_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     55,
     '4647e781-d06b-4c4e-bbc9-dd5ae54ee138',
     'ORDER',
     'READ'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     56,
     '7435ee4b-90e9-4038-b126-e3efb87a56d5',
     'ORDER',
     'READ_OWN'),
    ('1970-01-01 00:00:00.000000 +00:00',
     0,
     57,
     '0ad2f187-155f-49d9-9de0-85eedb18bead',
     'ORDER',
     'UPDATE');
--     ('1970-01-01 00:00:00.000000 +00:00',
--      0,
--      63,
--      'fc22e2e4-e8d3-444c-aafd-06be9cf8277f',
--      'ORDER',
--      'DELETE');


-- assign authorities to admin role
INSERT INTO public.role_authorities
(role_id, authority_id)
VALUES (3, 7),
       (3, 8),
       (3, 9),
       (3, 10),
       (3, 11),
       (3, 12),
       (3, 13),
--        (3, 17),
       (3, 14),
       (3, 15),
       (3, 16),
--        (3, 21),
       (3, 18),
       (3, 22),
       (3, 23),
       (3, 24),
       (3, 25),
       (3, 26),
       (3, 27),
       (3, 28),
       (3, 29),
       (3, 30),
       (3, 31),
       (3, 32),
       (3, 33),
       (3, 35),
       (3, 38),
       (3, 39),
       (3, 40),
       (3, 41),
       (3, 42),
       (3, 43),
       (3, 44),
       (3, 46),
       (3, 50),
       (3, 51),
       (3, 52),
       (3, 53),
       (3, 57);

-- assign authorities to user role
INSERT INTO public.role_authorities (role_id, authority_id)
VALUES (6, 8),
       (6, 10),
       (6, 17),
       (6, 19),
       (6, 20),
       (6, 21),
       (6, 34),
       (6, 36),
       (6, 37),
       (6, 38),
       (6, 40),
       (6, 42),
       (6, 44),
       (6, 45),
       (6, 47),
       (6, 48),
       (6, 49),
       (6, 54),
       (6, 56);
